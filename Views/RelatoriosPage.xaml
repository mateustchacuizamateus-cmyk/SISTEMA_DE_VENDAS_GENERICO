<Page x:Class="SISTEMA_DE_VENDAS_GENERICO.Views.RelatoriosPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Relatórios"
      Background="Transparent">
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        
        <!-- Painel de Controles -->
        <Border Grid.Column="0" 
                Background="White" 
                CornerRadius="5" 
                Margin="10,10,5,10"
                Padding="20">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Text="📊 Relatórios" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Foreground="#2C3E50"
                               Margin="0,0,0,20"/>
                    
                    <!-- Tipo de Relatório -->
                    <TextBlock Text="Tipo de Relatório:" 
                               FontSize="14" 
                               Foreground="#2C3E50"
                               Margin="0,0,0,5"/>
                    <ComboBox x:Name="cmbTipoRelatorio" 
                              Height="35" 
                              FontSize="14"
                              Margin="0,0,0,20"
                              SelectionChanged="cmbTipoRelatorio_SelectionChanged">
                        <ComboBoxItem Content="Vendas por Período"/>
                        <ComboBoxItem Content="Produtos Mais Vendidos"/>
                        <ComboBoxItem Content="Clientes Mais Ativos"/>
                        <ComboBoxItem Content="Movimentação de Estoque"/>
                        <ComboBoxItem Content="Resumo Financeiro"/>
                    </ComboBox>
                    
                    <!-- Período -->
                    <TextBlock Text="Período:" 
                               FontSize="14" 
                               Foreground="#2C3E50"
                               Margin="0,0,0,5"/>
                    <ComboBox x:Name="cmbPeriodo" 
                              Height="35" 
                              FontSize="14"
                              Margin="0,0,0,20">
                        <ComboBoxItem Content="Hoje"/>
                        <ComboBoxItem Content="Últimos 7 dias"/>
                        <ComboBoxItem Content="Últimos 30 dias"/>
                        <ComboBoxItem Content="Este mês"/>
                        <ComboBoxItem Content="Mês anterior"/>
                        <ComboBoxItem Content="Personalizado"/>
                    </ComboBox>
                    
                    <!-- Data Inicial (quando personalizado) -->
                    <TextBlock x:Name="txtDataInicialLabel" 
                               Text="Data Inicial:" 
                               FontSize="14" 
                               Foreground="#2C3E50"
                               Margin="0,0,0,5"
                               Visibility="Collapsed"/>
                    <DatePicker x:Name="dpDataInicial" 
                                Height="35" 
                                FontSize="14"
                                Margin="0,0,0,20"
                                Visibility="Collapsed"/>
                    
                    <!-- Data Final (quando personalizado) -->
                    <TextBlock x:Name="txtDataFinalLabel" 
                               Text="Data Final:" 
                               FontSize="14" 
                               Foreground="#2C3E50"
                               Margin="0,0,0,5"
                               Visibility="Collapsed"/>
                    <DatePicker x:Name="dpDataFinal" 
                                Height="35" 
                                FontSize="14"
                                Margin="0,0,0,20"
                                Visibility="Collapsed"/>
                    
                    <!-- Botões -->
                    <Button x:Name="btnGerarRelatorio" 
                            Content="📊 Gerar Relatório" 
                            Height="45" 
                            Background="#3498DB"
                            Foreground="White"
                            FontWeight="Bold"
                            FontSize="14"
                            BorderThickness="0"
                            Margin="0,0,0,15"
                            Click="btnGerarRelatorio_Click"/>
                    
                    <Button x:Name="btnExportarPDF" 
                            Content="📄 Exportar PDF" 
                            Height="40" 
                            Background="#E74C3C"
                            Foreground="White"
                            FontWeight="Bold"
                            FontSize="12"
                            BorderThickness="0"
                            Margin="0,0,0,10"
                            Click="btnExportarPDF_Click"/>
                    
                    <Button x:Name="btnExportarExcel" 
                            Content="📊 Exportar Excel" 
                            Height="40" 
                            Background="#27AE60"
                            Foreground="White"
                            FontWeight="Bold"
                            FontSize="12"
                            BorderThickness="0"
                            Click="btnExportarExcel_Click"/>
                    
                    <!-- Status -->
                    <TextBlock x:Name="txtStatus" 
                               FontSize="12" 
                               Foreground="#7F8C8D"
                               HorizontalAlignment="Center"
                               Margin="0,20,0,0"
                               TextWrapping="Wrap"/>
                </StackPanel>
            </ScrollViewer>
        </Border>
        
        <!-- Área de Resultados -->
        <Border Grid.Column="1" 
                Background="White" 
                CornerRadius="5" 
                Margin="5,10,10,10"
                Padding="20">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <!-- Cabeçalho dos Resultados -->
                <Border Grid.Row="0" 
                        Background="#ECF0F1" 
                        CornerRadius="5" 
                        Padding="15"
                        Margin="0,0,0,15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" 
                                   x:Name="txtTituloRelatorio" 
                                   Text="Selecione um tipo de relatório e clique em 'Gerar Relatório'" 
                                   FontSize="16" 
                                   FontWeight="Bold" 
                                   Foreground="#2C3E50"/>
                        
                        <TextBlock Grid.Column="1" 
                                   x:Name="txtTotalRelatorio" 
                                   FontSize="14" 
                                   FontWeight="Bold"
                                   Foreground="#3498DB"/>
                    </Grid>
                </Border>
                
                <!-- DataGrid dos Resultados -->
                <DataGrid Grid.Row="1" 
                          x:Name="dgResultados" 
                          AutoGenerateColumns="True"
                          IsReadOnly="True"
                          GridLinesVisibility="Horizontal"
                          HeadersVisibility="Column"
                          AlternatingRowBackground="#F8F9FA"/>
            </Grid>
        </Border>
    </Grid>
</Page> 